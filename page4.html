<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Yappers per Project — Leaderboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-dark: #2a0b5a;
      --panel: rgba(255,255,255,0.06);
      --panel-2: rgba(255,255,255,0.08);
      --accent: #b48cff;
      --accent-2: #8b5cf6;
      --text-light: #f6f3ff;
      --muted: #d9c9ff;
      --card-bg: #f1e8ff;
      --card-text: #2b0060;
      --shadow: 0 8px 30px rgba(0,0,0,0.45);
      --glass-blur: 10px;
    }

    html,body{height:100%; margin:0;}
    body{
      font-family: "Orbitron", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #320f6b 0%, #2a0b5a 35%, #1a0b3a 100%);
      display:flex; align-items:center; justify-content:center;
      padding:30px;
      color:var(--text-light);
    }

    .wrap{
      width: min(1200px, 96%);
      background: var(--panel);
      border-radius: 16px;
      padding: 26px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.03);
      backdrop-filter: blur(var(--glass-blur));
      box-sizing: border-box;
    }

    .head {
      display:flex; gap:16px; align-items:center; justify-content:space-between; margin-bottom:18px;
    }

    .title {
      display:flex; gap:12px; align-items:center;
    }

    .logo {
      width:56px; height:56px; border-radius:10px;
      background: linear-gradient(135deg,var(--accent-2),var(--accent));
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 6px 18px rgba(139,92,246,0.28);
      font-weight:700; font-size:18px; color:white;
    }

    .title h1 { margin:0; font-size:20px; letter-spacing:0.6px; }
    .title p { margin:0; font-size:13px; color:var(--muted); }

    .controls { display:flex; gap:10px; align-items:center; }
    .search {
      display:flex; align-items:center; gap:10px;
      background:var(--panel-2); padding:8px 12px; border-radius:999px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
    }
    .search input{
      background:transparent; border:0; outline:none; color:var(--text-light); font-size:14px;
    }

    .btn {
      border:0; padding:10px 14px; border-radius:10px; cursor:pointer;
      background:linear-gradient(90deg,var(--accent),#9c7bff);
      color:white; font-weight:600; box-shadow: 0 8px 18px rgba(140,90,255,0.18);
    }
    .btn.ghost { background: transparent; border: 1px solid rgba(255,255,255,0.08); color:var(--text-light); box-shadow:none; }

    /* Table header row (labels) */
    .labels{
      display:grid;
      grid-template-columns: 80px 1fr 160px 160px 160px;
      gap:12px;
      align-items:center;
      margin:12px 0 10px;
      padding: 6px 12px;
      color: var(--muted);
      font-weight:700;
      font-size:13px;
      text-transform:uppercase;
    }

    /* Rows container */
    .rows { display:flex; flex-direction:column; gap:14px; margin-top:6px; }

    .row {
      display:grid;
      grid-template-columns: 80px 1fr 160px 160px 160px;
      gap:12px;
      align-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(243,237,255,0.96));
      border-radius:12px;
      padding: 14px;
      box-shadow: var(--shadow);
      color: var(--card-text);
      transition: transform .18s ease, box-shadow .18s ease;
      overflow:hidden;
    }

    .row:hover { transform: translateY(-6px); box-shadow: 0 18px 50px rgba(10,2,60,0.45); }

    /* rank badge */
    .rank {
      display:flex; align-items:center; justify-content:center; gap:8px;
      width:56px; height:56px; border-radius:12px; font-weight:700;
      color:white; font-size:18px;
      background: linear-gradient(180deg,#2f004f,#5729b5);
      box-shadow: 0 8px 30px rgba(88,35,165,0.28);
      margin-left: 12px;
    }
    .rank.top1 { background: linear-gradient(90deg,#ffd166,#ffb703); color:#2b1b00; box-shadow: 0 8px 30px rgba(255,176,3,0.18); }
    .rank.top2 { background: linear-gradient(90deg,#c9f0ff,#7ad6ff); color:#002b34; box-shadow: 0 8px 30px rgba(0,150,200,0.12); }
    .rank.top3 { background: linear-gradient(90deg,#e6d6ff,#caa6ff); color:#2b0059; box-shadow: 0 8px 30px rgba(154,120,255,0.12); }

    .project {
      display:flex; gap:12px; align-items:center;
    }

    .avatar {
      width:56px; height:56px; border-radius:10px;
      background: linear-gradient(135deg,#fff,#f1e8ff);
      display:flex; align-items:center; justify-content:center; color: #2b0060; font-weight:700; font-size:14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    }

    .project .meta { display:flex; flex-direction:column; gap:4px; }
    .project .meta .name { font-weight:700; color:var(--card-text); }
    .project .meta .sub { font-size:13px; color:#6b4aa6; }

    .rewards, .categories, .count { text-align:center; font-weight:700; }

    .tags { display:flex; gap:6px; justify-content:center; flex-wrap:wrap; }
    .tag { background: linear-gradient(90deg,#f6edff,#e8d3ff); color: #3a0056; padding:6px 10px; border-radius:999px; font-size:13px; font-weight:600; box-shadow: 0 6px 12px rgba(0,0,0,0.06); }

    .count .value { font-size:18px; color:var(--card-text); }
    .progress {
      height:8px; background:rgba(0,0,0,0.06); border-radius:999px; overflow:hidden; margin-top:6px;
    }
    .progress .bar { height:100%; background: linear-gradient(90deg,#9d7bff,#b48cff); width:0%; border-radius:999px; transition: width .6s ease; }

    /* footer */
    .footer { margin-top:18px; display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:13px; }

    /* responsive tweaks */
    @media (max-width: 920px){
      .labels, .row { grid-template-columns: 60px 1fr 120px 120px 100px; }
      .rank, .avatar { width:48px; height:48px; }
      .logo { width:48px; height:48px; font-size:16px; }
    }
    @media (max-width: 640px){
      .labels { display:none; }
      .row { grid-template-columns: 56px 1fr; grid-auto-rows: auto; gap:10px; padding:12px; }
      .rewards, .categories, .count { display:flex; gap:8px; flex-direction:column; align-items:flex-start; }
      .rewards, .categories, .count { font-size:13px; }
      .count { justify-self:end; }
    }

  </style>
</head>
<body>

  <div class="wrap" role="main" aria-labelledby="lb-title">
    <div class="head">
      <div class="title">
        <div class="logo">RZ</div>
        <div>
          <h1 id="lb-title">Yappers per Project — Leaderboard</h1>
          <p>Projects ranked by active yappers. Click headers to sort or use search.</p>
        </div>
      </div>

      <div class="controls">
        <div class="search" aria-hidden="false">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#ddd" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#ddd" stroke-width="2"/></svg>
          <input id="search" placeholder="Search project or category..." aria-label="Search">
        </div>
        <button class="btn ghost" id="sortBtn">Sort: Yappers ⬇</button>
        <a href="page2.html" class="btn">← Back</a>
      </div>
    </div>

    <div class="labels">
      <div></div>
      <div>Project</div>
      <div>Rewards</div>
      <div>Categories</div>
      <div>Yappers Count</div>
    </div>

    <div class="rows" id="rows">
      <!-- rows rendered by JS -->
    </div>

    <div class="footer">
      <div>Showing <span id="countDisplay">0</span> projects</div>
      <div style="opacity:0.85">Last updated: <span id="lastUpdated">—</span></div>
    </div>
  </div>

  <script>
    // sample data (you will replace with real data)
    const data = [
      { name:"Project Alpha", rewards:"2500 XP", categories:["DeFi"], yappers:120 },
      { name:"CryptoVerse", rewards:"1800 XP", categories:["NFT","Gaming"], yappers:95 },
      { name:"ChainLab", rewards:"1500 XP", categories:["AI"], yappers:80 },
      { name:"Solaris", rewards:"1200 XP", categories:["Layer-1"], yappers:68 },
      { name:"Mintora", rewards:"980 XP", categories:["NFT"], yappers:60 },
      { name:"OrbitDAO", rewards:"820 XP", categories:["DeFi","DAO"], yappers:55 },
      { name:"NebulaX", rewards:"720 XP", categories:["Infra"], yappers:44 },
      { name:"StellarP", rewards:"600 XP", categories:["Payments"], yappers:30 }
    ];

    let sortDesc = true;
    const rowsEl = document.getElementById('rows');
    const countDisplay = document.getElementById('countDisplay');
    const lastUpdated = document.getElementById('lastUpdated');

    function render(list){
      rowsEl.innerHTML = '';
      const max = Math.max(...list.map(d=>d.yappers), 1);

      list.forEach((item, idx) => {
        const r = document.createElement('div');
        r.className = 'row';

        const rank = document.createElement('div');
        const rankBadge = document.createElement('div');
        rankBadge.className = 'rank';
        if(idx === 0) rankBadge.classList.add('top1');
        else if(idx === 1) rankBadge.classList.add('top2');
        else if(idx === 2) rankBadge.classList.add('top3');
        rankBadge.textContent = (idx+1);
        rank.appendChild(rankBadge);

        const project = document.createElement('div');
        project.className = 'project';
        const avatar = document.createElement('div');
        avatar.className = 'avatar';
        // two-letter acronym
        avatar.textContent = item.name.split(' ').map(s=>s[0]).slice(0,2).join('').toUpperCase();
        const meta = document.createElement('div');
        meta.className = 'meta';
        const nm = document.createElement('div');
        nm.className = 'name'; nm.textContent = item.name;
        const sub = document.createElement('div');
        sub.className = 'sub'; sub.textContent = item.yappers + " active yappers";
        meta.appendChild(nm); meta.appendChild(sub);
        project.appendChild(avatar); project.appendChild(meta);

        const rewards = document.createElement('div');
        rewards.className = 'rewards'; rewards.textContent = item.rewards;

        const cats = document.createElement('div');
        cats.className = 'categories';
        const tags = document.createElement('div'); tags.className = 'tags';
        item.categories.forEach(c => {
          const t = document.createElement('div'); t.className='tag'; t.textContent = c;
          tags.appendChild(t);
        });
        cats.appendChild(tags);

        const count = document.createElement('div');
        count.className = 'count';
        const val = document.createElement('div'); val.className='value'; val.textContent = item.yappers;
        const prog = document.createElement('div'); prog.className='progress';
        const bar = document.createElement('div'); bar.className='bar';
        // set width relative to max
        bar.style.width = Math.round((item.yappers / max) * 100) + '%';
        prog.appendChild(bar);
        count.appendChild(val); count.appendChild(prog);

        r.appendChild(rank);
        r.appendChild(project);
        r.appendChild(rewards);
        r.appendChild(cats);
        r.appendChild(count);

        rowsEl.appendChild(r);
      });

      countDisplay.textContent = list.length;
      lastUpdated.textContent = new Date().toLocaleString();
    }

    // initial
    let currentList = [...data].sort((a,b)=> sortDesc ? b.yappers - a.yappers : a.yappers - b.yappers);
    render(currentList);

    // search
    document.getElementById('search').addEventListener('input', (e) => {
      const q = e.target.value.trim().toLowerCase();
      const filtered = data.filter(d => {
        return d.name.toLowerCase().includes(q) || d.categories.join(' ').toLowerCase().includes(q);
      });
      currentList = filtered.sort((a,b)=> sortDesc ? b.yappers - a.yappers : a.yappers - b.yappers);
      render(currentList);
    });

    // sort toggle
    document.getElementById('sortBtn').addEventListener('click', () => {
      sortDesc = !sortDesc;
      document.getElementById('sortBtn').textContent = 'Sort: Yappers ' + (sortDesc ? '⬇' : '⬆');
      currentList.sort((a,b)=> sortDesc ? b.yappers - a.yappers : a.yappers - b.yappers);
      render(currentList);
    });

    // expose a small helper for adding rows (you can call from console)
    window.addProject = function(obj){
      data.push(obj);
      currentList = data.sort((a,b)=> sortDesc ? b.yappers - a.yappers : a.yappers - b.yappers);
      render(currentList);
    };
  </script>
</body>
</html>
